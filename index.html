<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Freelance Brand & Marketing Strategist | Strategy Support</title>
  <meta name="description" content="Copenhagen-based, London-trained strategist. I help brands, agencies and in-house teams with pitches, platforms and campaigns. DK / UK / Global experience.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Vollkorn:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap&font-display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      height: 100%;
      font-family: 'Vollkorn', serif;
      letter-spacing: 0.03em;
      background: #FFEEDB; /* Antique white as main background */
      color: #0B0500;
      scroll-behavior: smooth;
    }

    main {
      width: 100%;
    }

    /* Landing page - full screen on all devices */
    #intro {
      min-height: 100vh;
      min-height: 100dvh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      background: #FFEEDB;
      color: #0B0500;
    }

    /* Alternating section backgrounds */
    #work {
      padding: 80px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #8A817C; /* Battleship gray */
      color: #FFEEDB; /* Light text for dark background */
      max-width: 100%;
      margin: 0 auto;
    }

    #about {
      padding: 80px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #FFEEDB; /* Antique white */
      color: #0B0500; /* Dark text for light background */
      max-width: 100%;
      margin: 0 auto;
    }

    #services {
      padding: 80px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #8A817C; /* Battleship gray */
      color: #0B0500;
      max-width: 100%;
      margin: 0 auto;
    }

    #testimonials {
      padding: 80px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #0B0500; /* Smoky black */
      color: #FFEEDB;
      max-width: 100%;
      margin: 0 auto;
    }

    #contact {
      padding: 100px 20px 120px;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #FFEEDB; /* Antique white */
      color: #0B0500; /* Dark text for light background */
      max-width: 100%;
      margin: 0 auto;
    }

    /* Intro content */
    .profile-picture {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #9B1D20;
      margin-bottom: 24px;
      box-shadow: 0 0 20px rgba(155, 29, 32, 0.3);
    }

    .intro-heading {
      font-size: clamp(1.8rem, 4vw, 2.8rem);
      font-weight: 400;
      margin: 0 0 16px;
      text-align: center;
      line-height: 1.2;
    }

    .intro-text {
      font-size: clamp(1.1rem, 2vw, 2.0rem);
      max-width: 800px;
      text-align: center;
      line-height: 1.5;
      letter-spacing: normal;
    }

    /* Work / Brands */
    #work > p {
      max-width: 950px;
      font-size: clamp(1.25rem, 2vw + 1rem, 2.5rem);
      line-height: 1.5;
      text-align: center;
      margin-bottom: 40px;
    }

    .client-tabs {
      display: flex;
      gap: 40px;
      justify-content: center;
      align-items: center;
      margin-bottom: 50px;
      flex-wrap: wrap;
    }

    .client-tab {
      font-size: clamp(1.2rem, 2vw, 1.8rem);
      background: none;
      border: none;
      padding: 0 0 4px 0;
      margin: 0;
      font: inherit;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 400;
      position: relative;
      z-index: 1;
      opacity: 0.7;
    }

    .client-tab:hover,
    .client-tab:focus {
      opacity: 0.9;
    }

    .client-tab.active {
      opacity: 1;
      font-weight: 600;
    }

    .client-tab.active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: #9B1D20;
    }

    .client-tab:focus-visible {
      outline: 2px solid #9B1D20;
      outline-offset: 2px;
      border-radius: 2px;
    }

    .carousel-wrapper {
      width: 100%;
      max-width: 1100px;
      position: relative;
    }

    .carousel-container {
      position: relative;
      padding: 40px 70px;
      overflow: hidden;
    }

    .carousel-content {
      position: relative;
      min-height: 120px;
    }

    .client-group {
      display: none;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
    }

    .client-group.active {
      display: block;
      position: relative;
    }

    .client-slides-container {
      display: flex;
      transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
      width: 100%;
      height: 100%;
    }

    .client-slide {
      min-width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      padding: 20px 0;
    }

    .client-slide img {
      width: 150px;
      height: 75px;
      object-fit: contain;
      filter: brightness(0) invert(1);
      opacity: 0.9;
      transition: opacity 0.3s, transform 0.3s;
    }

    .client-slide img:hover {
      opacity: 1;
      transform: scale(1.05);
    }

    .carousel-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(155, 29, 32, 0.2);
      border: 2px solid #9B1D20;
      color: #FFEEDB;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 24px;
      user-select: none;
      z-index: 10;
      font-family: Arial, sans-serif;
      touch-action: manipulation;
    }

    #work .carousel-arrow {
      color: #FFEEDB;
    }

    .carousel-arrow:focus-visible {
      outline: 2px solid #9B1D20;
      outline-offset: 2px;
    }

    .carousel-arrow:hover {
      background: rgba(155, 29, 32, 0.4);
      transform: translateY(-50%) scale(1.1);
    }

    .carousel-arrow.prev {
      left: 10px;
    }

    .carousel-arrow.next {
      right: 10px;
    }

    .carousel-indicators {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 30px;
    }

    .carousel-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255, 238, 219, 0.3);
      border: 2px solid #FFEEDB;
      cursor: pointer;
      transition: all 0.3s;
    }

    .carousel-indicator.active {
      background: #9B1D20;
      border-color: #9B1D20;
      transform: scale(1.2);
    }

    .carousel-indicator:hover,
    .carousel-indicator:focus-visible {
      background: #9B1D20;
      border-color: #9B1D20;
    }

    /* About */
    #about .approach-summary {
      max-width: 950px;
      font-size: clamp(1.25rem, 2vw + 1rem, 2.5rem);
      line-height: 1.5;
      text-align: center;
    }

    /* Services Section */
    .services-section {
      padding-top: 80px;
      padding-bottom: 80px;
    }

    .section-title {
      font-size: clamp(2rem, 4vw, 3rem);
      margin-bottom: 60px;
      text-align: center;
      color: #9B1D20;
    }

    .services-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: clamp(1.5rem, 3vw, 2rem);
      width: 100%;
      max-width: 1100px;
      margin: 0 auto;
    }

    .service-item {
      background: #FFEEDB;
      border: 2px solid #9B1D20;
      border-radius: 16px;
      padding: clamp(1.5rem, 3vw, 2rem);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .service-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(155, 29, 32, 0.15) 0%, transparent 100%);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .service-item:hover::before {
      opacity: 1;
    }

    .service-item:hover {
      transform: translateY(-5px);
      border-color: #9B1D20;
      box-shadow: 0 10px 30px rgba(155, 29, 32, 0.3);
    }

    .service-item.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .service-title {
      font-size: clamp(1.1rem, 2.2vw, 1.4rem);
      margin-bottom: 12px;
      color: #9B1D20;
      line-height: 1.3;
    }

    .service-description {
      font-size: clamp(0.9rem, 1.6vw, 1rem);
      line-height: 1.6;
    }

    /* Testimonials Section */
    .testimonials-section {
      padding-top: 80px;
      padding-bottom: 80px;
      background: #0B0500;
    }

    .testimonials-container {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .testimonial-item {
      position: absolute;
      width: 100%;
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 1s ease-in-out, transform 1s ease-in-out;
      display: flex;
      flex-direction: column;
      gap: 24px;
      align-items: center;
      text-align: center;
      pointer-events: none;
    }

    .testimonial-item.active {
      opacity: 1;
      transform: scale(1);
      pointer-events: auto;
    }

    .testimonial-quote {
      font-size: clamp(1.25rem, 2.5vw, 2rem);
      line-height: 1.6;
      font-style: italic;
      max-width: 800px;
    }

    .testimonial-quote span.quote-mark {
      color: #9B1D20;
      font-size: 1.3em;
    }

    .testimonial-author {
      font-size: clamp(1rem, 2vw, 1.3rem);
      color: #9B1D20;
      margin-top: 8px;
    }

    .testimonial-role {
      font-size: clamp(0.9rem, 1.8vw, 1.1rem);
      opacity: 0.8;
    }

    .testimonial-indicators {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 40px;
    }

    .indicator-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #8A817C;
      border: 2px solid #0B0500;
      cursor: pointer;
      transition: all 0.3s;
    }

    .indicator-dot.active {
      background: #9B1D20;
      border-color: #9B1D20;
      transform: scale(1.2);
    }

    .indicator-dot:hover,
    .indicator-dot:focus-visible {
      background: #9B1D20;
      border-color: #9B1D20;
    }

    /* Contact */
    .contact-info {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .contact-info > p {
      font-size: clamp(1rem, 2vw, 1.3rem);
      margin-bottom: 0.5em;
      opacity: 0.8;
    }

    .contact-title {
      font-size: 2.0rem;
      font-weight: 400;
      color: #9B1D20;
      margin-bottom: 0.8em;
      text-align: center;
    }

    .contact-email {
      font-size: clamp(1.4rem, 3vw, 2.5rem);
      font-weight: 700;
      text-align: center;
    }

    .contact-email a {
      color: #0B0500;
      text-decoration: none;
      transition: color 0.3s;
    }

    .contact-email a:hover,
    .contact-email a:focus-visible {
      color: #9B1D20;
    }

    .contact-email a:focus-visible {
      outline: 2px solid #9B1D20;
      outline-offset: 2px;
      border-radius: 2px;
    }

    /* Mobile Responsive */
    @media (max-width: 700px) {
      #intro {
        padding: 16px;
      }

      #work, #about, #services, #testimonials {
        padding: 50px 16px;
      }

      #contact {
        padding: 60px 16px 80px;
      }

      .carousel-container {
        padding: 40px 55px;
      }

      .carousel-arrow {
        width: 48px;
        height: 48px;
        font-size: 20px;
      }

      .client-slide {
        gap: 25px;
      }

      .client-slide img {
        width: 120px;
        height: 60px;
      }

      .services-container {
        grid-template-columns: 1fr;
      }

      .contact-email {
        font-size: 1.4rem;
      }
    }

    @media (max-width: 480px) {
      .client-tabs {
        flex-direction: column;
        gap: 12px;
      }
      
      .section-title {
        font-size: clamp(1.8rem, 8vw, 2.5rem);
      }
      
      .carousel-container {
        padding: 20px 15px;
      }
      
      .carousel-arrow {
        width: 48px;
        height: 48px;
      }
      
      .testimonial-quote {
        font-size: clamp(1.1rem, 4vw, 1.6rem);
      }
    }
  </style>
</head>
<body>
  <main>
    <section id="intro" aria-labelledby="intro-heading">
      <img src="https://via.placeholder.com/150" alt="A photo of Emil Valdemar Madsen" class="profile-picture" width="150" height="150" loading="eager">
      <h1 id="intro-heading" class="intro-heading">Hi! I'm Emil Valdemar Madsen</h1>
      <p class="intro-text">
       A Brand and marketing strategy consultant.
      </p>
    </section>

    <section id="work" aria-labelledby="work-heading">
      <h2 id="work-heading" class="section-title">Client Work</h2>
      <p>
        I have spent the last 15 years helping global brands find their place in the tensions, trends, and memes of consumer culture.
      </p>
      <div class="client-tabs" role="tablist" aria-label="Client types">
        <button class="client-tab active" data-type="brands" role="tab" aria-selected="true" aria-controls="brands-group">Brands</button>
        <button class="client-tab" data-type="agencies" role="tab" aria-selected="false" aria-controls="agencies-group">Agencies</button>
      </div>
      <div class="carousel-wrapper">
        <div class="carousel-container">
          <button class="carousel-arrow prev" aria-label="Previous slide">‹</button>
          <button class="carousel-arrow next" aria-label="Next slide">›</button>
          
          <div class="carousel-content">
            <div class="client-group active" id="brands-group" data-group="brands" role="tabpanel" aria-labelledby="brands-tab">
              <div class="client-slides-container">
                <div class="client-slide">
                  <img src="https://via.placeholder.com/150x75?text=Huawei" alt="Huawei" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=Burger+King" alt="Burger King" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=Barclays" alt="Barclays" loading="lazy">
                </div>
                <div class="client-slide">
                  <img src="https://via.placeholder.com/150x75?text=Arla+Foods" alt="Arla Foods" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=PepsiCo" alt="PepsiCo" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=Mr+Green" alt="Mr Green" loading="lazy">
                </div>
                <div class="client-slide">
                  <img src="https://via.placeholder.com/150x75?text=Danske+Bank" alt="Danske Bank" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=ATP" alt="ATP" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=Kellogg's" alt="Kellogg's" loading="lazy">
                </div>
                <div class="client-slide">
                  <img src="https://via.placeholder.com/150x75?text=Saxo+Bank" alt="Saxo Bank" loading="lazy">
                </div>
              </div>
            </div>
            
            <div class="client-group" id="agencies-group" data-group="agencies" role="tabpanel" aria-labelledby="agencies-tab">
              <div class="client-slides-container">
                <div class="client-slide">
                  <img src="https://via.placeholder.com/150x75?text=Worth+Your+While" alt="Worth Your While Agency" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=Dentsu+Creative" alt="Dentsu Creative London" loading="lazy">
                  <img src="https://via.placeholder.com/150x75?text=Edelman" alt="Edelman London" loading="lazy">
                </div>
                <div class="client-slide">
                  <img src="https://via.placeholder.com/150x75?text=FCB+London" alt="FCB London" loading="lazy">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-indicators" role="tablist" aria-label="Slide navigation">
          <!-- Indicators will be dynamically generated by JavaScript -->
        </div>
      </div>
    </section>
    
    <section id="about" aria-labelledby="about-heading">
      <h2 id="about-heading" class="section-title">About Me</h2>
      <p class="approach-summary">
        My approach is simple: 
        <br>It starts with the truth of your business, your customers and your competitors.
        <br><br>No fluff. Just clear direction that teams can actually execute.
      </p>
    </section>

    <section id="services" class="services-section" aria-labelledby="services-heading">
      <h2 id="services-heading" class="section-title">Services</h2>
      <div class="services-container">
        <div class="service-item">
          <h3 class="service-title">Brand & Purpose Definition</h3>
          <p class="service-description">
            Including brand identity and brand platforms that create meaningful differentiation and lasting impact.
          </p>
        </div>
        <div class="service-item">
          <h3 class="service-title">Marketing Strategy</h3>
          <p class="service-description">
            Including segmentation, targeting and positioning frameworks that drive business growth.
          </p>
        </div>
        <div class="service-item">
          <h3 class="service-title">Marketing & Communications Planning</h3>
          <p class="service-description">
            Including annual marketing and communications plans that align teams and deliver results.
          </p>
        </div>
        <div class="service-item">
          <h3 class="service-title">Creative Strategy & Planning</h3>
          <p class="service-description">
            Including creative briefs, communications platforms and pitch presentations that inspire great work.
          </p>
        </div>
        <div class="service-item">
          <h3 class="service-title">Consumer Insight</h3>
          <p class="service-description">
            Including qualitative, quantitative and ethnography research that uncovers actionable truths.
          </p>
        </div>
        <div class="service-item">
          <h3 class="service-title">Capability & Organisation</h3>
          <p class="service-description">
            Including global/local structures and in-house agency set-ups that optimize performance.
          </p>
        </div>
      </div>
    </section>

    <section id="testimonials" class="testimonials-section" aria-labelledby="testimonials-heading">
      <h2 id="testimonials-heading" class="section-title">What Clients Say</h2>
      <div class="testimonials-container">
        <div class="testimonial-item active">
          <p class="testimonial-quote">
            <span class="quote-mark">&ldquo;</span>
            Emil has an exceptional ability to distill complex market dynamics into clear, actionable strategies. His work on our brand platform transformed how we communicate with customers.
            <span class="quote-mark">&rdquo;</span>
          </p>
          <div class="testimonial-author">Sarah Mitchell</div>
          <div class="testimonial-role">CMO, Barclays</div>
        </div>
        <div class="testimonial-item">
          <p class="testimonial-quote">
            <span class="quote-mark">&ldquo;</span>
            Working with Emil was a game-changer for our pitch process. His strategic thinking helped us win business we never thought possible. He's now our secret weapon.
            <span class="quote-mark">&rdquo;</span>
          </p>
          <div class="testimonial-author">James Rodriguez</div>
          <div class="testimonial-role">Managing Director, Dentsu Creative London</div>
        </div>
        <div class="testimonial-item">
          <p class="testimonial-quote">
            <span class="quote-mark">&ldquo;</span>
            Emil brings rare clarity to every project. He cuts through the noise and delivers insights that actually move the needle. His consumer understanding is second to none.
            <span class="quote-mark">&rdquo;</span>
          </p>
          <div class="testimonial-author">Maria Hansen</div>
          <div class="testimonial-role">Head of Marketing, Danske Bank</div>
        </div>
        <div class="testimonial-item">
          <p class="testimonial-quote">
            <span class="quote-mark">&ldquo;</span>
            The strategic framework Emil developed for our global campaign gave our teams the confidence to execute brilliantly across 12 markets. Truly world-class thinking.
            <span class="quote-mark">&rdquo;</span>
          </p>
          <div class="testimonial-author">David Chen</div>
          <div class="testimonial-role">VP Brand Strategy, PepsiCo</div>
        </div>
      </div>
      <div class="testimonial-indicators" role="tablist" aria-label="Testimonial navigation">
        <div class="indicator-dot active" role="tab" aria-selected="true" aria-label="Testimonial 1"></div>
        <div class="indicator-dot" role="tab" aria-selected="false" aria-label="Testimonial 2"></div>
        <div class="indicator-dot" role="tab" aria-selected="false" aria-label="Testimonial 3"></div>
        <div class="indicator-dot" role="tab" aria-selected="false" aria-label="Testimonial 4"></div>
      </div>
    </section>

    <section id="contact" aria-labelledby="contact-heading">
      <h2 id="contact-heading" class="section-title">Get In Touch</h2>
      <div class="contact-info">
        <p>Need strategy support?</p>
        <div class="contact-title">I'm happy to help!</div>
        <div class="contact-email">
          <a href="mailto:emil@strategy-support.com" aria-label="Email Emil at emil@strategy-support.com">emil@strategy-support.com</a>
        </div>
      </div>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Fade-in animation for service items as user scrolls
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, {
        threshold: 0.15
      });

      document.querySelectorAll('.service-item').forEach(item => {
        observer.observe(item);
      });

      // Testimonial carousel
      const testimonials = document.querySelectorAll('.testimonial-item');
      const testimonialDots = document.querySelectorAll('.testimonial-indicators .indicator-dot');
      let currentTestimonialIndex = 0;
      let testimonialInterval;

      function showTestimonial(index) {
        testimonials.forEach((item, i) => {
          item.classList.toggle('active', i === index);
          testimonialDots[i].classList.toggle('active', i === index);
          testimonialDots[i].setAttribute('aria-selected', i === index);
        });
      }

      function nextTestimonial() {
        currentTestimonialIndex = (currentTestimonialIndex + 1) % testimonials.length;
        showTestimonial(currentTestimonialIndex);
      }

      function startTestimonialCarousel() {
        clearInterval(testimonialInterval);
        testimonialInterval = setInterval(nextTestimonial, 6000);
      }

      testimonialDots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          currentTestimonialIndex = index;
          showTestimonial(currentTestimonialIndex);
          startTestimonialCarousel();
        });
        
        dot.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            currentTestimonialIndex = index;
            showTestimonial(currentTestimonialIndex);
            startTestimonialCarousel();
          }
        });
      });

      // Client carousel with horizontal sliding
      const clientTabs = document.querySelectorAll('.client-tab');
      const clientGroups = document.querySelectorAll('.client-group');
      const prevArrow = document.querySelector('.carousel-arrow.prev');
      const nextArrow = document.querySelector('.carousel-arrow.next');
      const carouselIndicatorsContainer = document.querySelector('.carousel-indicators');
      
      let currentGroup = 'brands';
      let currentSlide = 0;
      let clientInterval;
      let isAnimating = false;

      function updateCarouselIndicators() {
        const activeGroup = document.querySelector(`.client-group[data-group="${currentGroup}"]`);
        const totalSlides = activeGroup.querySelectorAll('.client-slide').length;
        
        // Clear existing indicators
        carouselIndicatorsContainer.innerHTML = '';
        
        // Create new indicators
        for (let i = 0; i < totalSlides; i++) {
          const indicator = document.createElement('div');
          indicator.className = `carousel-indicator${i === currentSlide ? ' active' : ''}`;
          indicator.setAttribute('role', 'tab');
          indicator.setAttribute('aria-selected', i === currentSlide);
          indicator.setAttribute('aria-label', `Slide ${i + 1}`);
          indicator.addEventListener('click', () => {
            if (isAnimating) return;
            goToSlide(i);
          });
          
          indicator.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              if (isAnimating) return;
              goToSlide(i);
            }
          });
          
          carouselIndicatorsContainer.appendChild(indicator);
        }
      }

      function goToSlide(slideIndex) {
        if (isAnimating) return;
        
        const activeGroup = document.querySelector(`.client-group[data-group="${currentGroup}"]`);
        const slidesContainer = activeGroup.querySelector('.client-slides-container');
        const totalSlides = activeGroup.querySelectorAll('.client-slide').length;
        
        // Prevent invalid slide index
        if (slideIndex < 0 || slideIndex >= totalSlides || slideIndex === currentSlide) return;
        
        isAnimating = true;
        
        // Calculate direction for animation class
        const direction = slideIndex > currentSlide ? 'next' : 'prev';
        
        // Update current slide
        currentSlide = slideIndex;
        
        // Apply transform to slide container
        slidesContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
        
        // Update indicators
        updateCarouselIndicators();
        
        // Reset animation lock after transition completes
        setTimeout(() => {
          isAnimating = false;
        }, 800);
      }

      function nextSlide() {
        const activeGroup = document.querySelector(`.client-group[data-group="${currentGroup}"]`);
        const totalSlides = activeGroup.querySelectorAll('.client-slide').length;
        goToSlide((currentSlide + 1) % totalSlides);
      }

      function prevSlide() {
        const activeGroup = document.querySelector(`.client-group[data-group="${currentGroup}"]`);
        const totalSlides = activeGroup.querySelectorAll('.client-slide').length;
        goToSlide((currentSlide - 1 + totalSlides) % totalSlides);
      }

      function startClientCarousel() {
        clearInterval(clientInterval);
        clientInterval = setInterval(nextSlide, 4000);
      }

      // Tab switching functionality
      clientTabs.forEach(tab => {
        tab.addEventListener('click', () => {
          if (isAnimating) return;
          
          clientTabs.forEach(t => {
            t.classList.remove('active');
            t.setAttribute('aria-selected', 'false');
          });
          
          tab.classList.add('active');
          tab.setAttribute('aria-selected', 'true');
          
          currentGroup = tab.dataset.type;
          currentSlide = 0;
          
          clientGroups.forEach(group => {
            group.classList.toggle('active', group.dataset.group === currentGroup);
          });
          
          // Reset slide position for the new group
          const activeGroup = document.querySelector(`.client-group[data-group="${currentGroup}"]`);
          const slidesContainer = activeGroup.querySelector('.client-slides-container');
          slidesContainer.style.transform = `translateX(0)`;
          
          updateCarouselIndicators();
          startClientCarousel();
        });
        
        tab.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            tab.click();
          }
        });
      });

      // Arrow navigation
      prevArrow.addEventListener('click', () => {
        if (!isAnimating) prevSlide();
      });

      nextArrow.addEventListener('click', () => {
        if (!isAnimating) nextSlide();
      });

      // Keyboard navigation for carousel
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft' && document.activeElement.closest('.carousel-container')) {
          prevSlide();
        } else if (e.key === 'ArrowRight' && document.activeElement.closest('.carousel-container')) {
          nextSlide();
        }
      });

      // Initialize
      updateCarouselIndicators();
      startClientCarousel();
      startTestimonialCarousel();
      
      // Cleanup on unload
      window.addEventListener('beforeunload', () => {
        clearInterval(testimonialInterval);
        clearInterval(clientInterval);
      });
      
      // Pause carousels when tab is not visible
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
          clearInterval(testimonialInterval);
          clearInterval(clientInterval);
        } else {
          startTestimonialCarousel();
          startClientCarousel();
        }
      });
    });
  </script>
</body>
</html>
